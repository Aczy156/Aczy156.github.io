<!DOCTYPE html>
<html><head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Other-Vue_router路由跳转 - Aczy156</title><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta property="og:description" content="" />
	<meta name="twitter:description" content="" />
	<meta name="description" content="" />
	<meta name="description" content="" />

	<meta property="og:title" content="Other-Vue_router路由跳转 | Aczy156" />
	<meta name="twitter:title" content="Other-Vue_router路由跳转 | Aczy156" />

	<meta property="og:image" content=""/>
	<meta itemprop="name" content="Other-Vue_router路由跳转 | Aczy156" />
	<meta name="application-name" content="Other-Vue_router路由跳转 | Aczy156" />
	<meta property="og:site_name" content="" />
	<meta property="og:title" content="Other-Vue_router路由跳转" />
<meta property="og:description" content="[TOC]
整体框架结构 Vue router 实现界面导航切换。.。
  由router/index.js 中的vue-router来指引不同的要跳转的界面
  在main.js中添加路由跳转的函数，
  在app.vue中利用router-view来规范router切换的范围
  在需要跳转的位置利用main.js中的路由跳转函数来进行跳转
  核心代码 router/index.js
import Vue from &#39;vue&#39; import VueRouter from &#39;vue-router&#39; Vue.use(VueRouter) export default new VueRouter({ routes: [ { path: &#39;/&#39;, redirect: { name: &#39;home&#39; } }, { path: &#39;/home&#39;, name: &#39;home&#39;, component: require(&#39;../components/AddPicture.vue&#39;).default }, { path: &#39;/page01&#39;, name: &#39;page01&#39;, component: require(&#39;../components/Mainpage.vue&#39;).default } ] }) main.js
import Vue from &#39;vue&#39; import App from &#39;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.chenranfei.site/posts/other/o-vue_router%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC/" />
<meta property="article:published_time" content="2020-02-16T12:19:14+08:00" />
<meta property="article:modified_time" content="2020-02-16T12:19:14+08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Other-Vue_router路由跳转"/>
<meta name="twitter:description" content="[TOC]
整体框架结构 Vue router 实现界面导航切换。.。
  由router/index.js 中的vue-router来指引不同的要跳转的界面
  在main.js中添加路由跳转的函数，
  在app.vue中利用router-view来规范router切换的范围
  在需要跳转的位置利用main.js中的路由跳转函数来进行跳转
  核心代码 router/index.js
import Vue from &#39;vue&#39; import VueRouter from &#39;vue-router&#39; Vue.use(VueRouter) export default new VueRouter({ routes: [ { path: &#39;/&#39;, redirect: { name: &#39;home&#39; } }, { path: &#39;/home&#39;, name: &#39;home&#39;, component: require(&#39;../components/AddPicture.vue&#39;).default }, { path: &#39;/page01&#39;, name: &#39;page01&#39;, component: require(&#39;../components/Mainpage.vue&#39;).default } ] }) main.js
import Vue from &#39;vue&#39; import App from &#39;."/>
<script src="http://www.chenranfei.site/js/feather.min.js"></script>
	
	<link href="http://www.chenranfei.site/css/fonts.css" rel="stylesheet">
	
	<link rel="stylesheet" type="text/css" media="screen" href="http://www.chenranfei.site/css/main.css" />
	
	
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
        messageStyle: "none", // 載入 MathJax 檔案時不要顯示訊息
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]} // 搜尋內文 $ 符號
      });
</script>
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="http://www.chenranfei.site/">Aczy156</a>
	</div>
	<nav>
		
	</nav>
</header>

<main>
	<aside>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#整体框架结构">整体框架结构</a></li>
    <li><a href="#核心代码">核心代码</a></li>
    <li><a href="#踩过的坑">踩过的坑</a></li>
  </ul>
</nav>
    </aside>
	<article>
		<div class="title">
			<h1 class="title">Other-Vue_router路由跳转</h1>
		</div>
		

		<section class="body">
			<p>[TOC]</p>
<h2 id="整体框架结构">整体框架结构</h2>
<p>Vue router 实现界面导航切换。.。</p>
<ul>
<li>
<p>由router/index.js 中的vue-router来指引不同的要跳转的界面</p>
</li>
<li>
<p>在main.js中添加路由跳转的函数，</p>
</li>
<li>
<p>在app.vue中利用router-view来规范router切换的范围</p>
</li>
<li>
<p>在需要跳转的位置利用main.js中的路由跳转函数来进行跳转</p>
</li>
</ul>
<h2 id="核心代码">核心代码</h2>
<p>router/index.js</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">VueRouter</span>({
  <span style="color:#a6e22e">routes</span><span style="color:#f92672">:</span> [
    {
      <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
      <span style="color:#a6e22e">redirect</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;home&#39;</span>
      }
    },
    {
      <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/home&#39;</span>,
      <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;home&#39;</span>,
      <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;../components/AddPicture.vue&#39;</span>).<span style="color:#66d9ef">default</span>
    },
    {
      <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/page01&#39;</span>,
      <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;page01&#39;</span>,
      <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;../components/Mainpage.vue&#39;</span>).<span style="color:#66d9ef">default</span>
    }
  ]
})

</code></pre></div><p>main.js</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">App</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./App.vue&#39;</span>
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">DatePicker</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;ant-design-vue&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;ant-design-vue/dist/antd.css&#39;</span>;
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Button</span>, <span style="color:#a6e22e">Layout</span>, <span style="color:#a6e22e">Menu</span>, <span style="color:#a6e22e">Row</span>, <span style="color:#a6e22e">Col</span>, <span style="color:#a6e22e">Card</span>, <span style="color:#a6e22e">Form</span>, <span style="color:#a6e22e">Input</span>, <span style="color:#a6e22e">Select</span>, <span style="color:#a6e22e">InputNumber</span>, <span style="color:#a6e22e">Table</span>,<span style="color:#a6e22e">List</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;ant-design-vue&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./router&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">VueRouter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>

<span style="color:#75715e">// 点击相同路由之后报错的解决方案
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">originalPush</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span>
<span style="color:#a6e22e">VueRouter</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">location</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">originalPush</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">location</span>).<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">err</span>)
}


<span style="color:#75715e">// 路由跳转
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">$goRoute</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">index</span>) {
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">index</span>)
}
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Button</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Layout</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Menu</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Row</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Col</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Card</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Form</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Input</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Select</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">InputNumber</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Table</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">List</span>);

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">DatePicker</span>);
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">VueRouter</span>)

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">productionTip</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>

<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
  <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;#app&#39;</span>,
  <span style="color:#a6e22e">router</span>,
  <span style="color:#a6e22e">render</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">h</span> =&gt; <span style="color:#a6e22e">h</span>(<span style="color:#a6e22e">App</span>),
})

</code></pre></div><p>App.vue</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
  &lt;<span style="color:#f92672">router-view</span>/&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;App&#39;</span>,
};
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span>&gt;
#app {
    <span style="color:#66d9ef">font-family</span>: Avenir, Helvetica, Arial, <span style="color:#66d9ef">sans-serif</span>;
    <span style="color:#66d9ef">-webkit-</span>font-smoothing: antialiased;
    <span style="color:#66d9ef">-moz-</span>osx-font-smoothing: grayscale;
    <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>;
    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#3c84cc</span>;
    <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">60</span><span style="color:#66d9ef">px</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p><strong>调用路由部分</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">a-button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dashed&#34;</span> <span style="color:#a6e22e">shape</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;round&#34;</span> <span style="color:#a6e22e">size</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;large&#34;</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;$goRoute(&#39;/page01&#39;)&#34;</span>&gt;导入图片&lt;/<span style="color:#f92672">a-button</span>&gt;
</code></pre></div><h2 id="踩过的坑">踩过的坑</h2>
<p>浏览器console里一串红，真是一个一个报错挨个Google ，(没错看不懂官方文档的菜鸡的自我救赎)</p>
<ul>
<li>在没有文件夹名和文件名冲突的前提下报错
<img src="https://img-blog.csdnimg.cn/20200216123007250.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzQ1MjA0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">
解决方案：add .default to require(&lsquo;xxx.vue&rsquo;) or import(&lsquo;xxx.vue&rsquo;) it will work right</li>
</ul>
<hr>
<ul>
<li>Unknown custom element:- did you register the component correctly
解决方案：记得引入vue-router并且Vue.use即可。</li>
</ul>
<hr>
<ul>
<li>vue router 报错： Uncaught (in promise) NavigationDuplicated {_name:&ldquo;&ldquo;NavigationDuplicated&rdquo;&hellip; 的解决方法：
解决方案： <a href="https://www.jianshu.com/p/83f24173c9ca">当时指点迷津的博客</a></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Router</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue-router&#39;</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Router</span>)
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">originalPush</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Router</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span>
<span style="color:#a6e22e">Router</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">push</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">location</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">originalPush</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">location</span>).<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">err</span>)
}
</code></pre></div><hr>
<ul>
<li>[vue-router] Duplicate named routes definition: { name: &ldquo;home&rdquo;, path: &ldquo;/home” }
解决方案：</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">{
      path: &#39;/&#39;,
      redirect: {
        name: &#39;home&#39;
      }
    },
    {
      path: &#39;/home&#39;,
      name: &#39;home&#39;,
      component: home
    },

</code></pre></div><hr>
<ul>
<li>还有我最后跳转成功之后碰到了一点逻辑错误，在app.vue中放置了router-view，并且写了某个界面的code，然后出现了id为app的div重复出现了两次，，，一模一样(人都傻了)后来更改了一下逻辑，因为在原来的逻辑中router路由设置的默认界面的指向就是app.vue，并且app.vue中本身就有界面渲染，然后就渲染重了。
解决方案：把默认指向的界面单出来再写一个，然后app.vue中只放一个router-view即可。</li>
</ul>

		</section>

		<div class="meta">Posted on Feb 16, 2020</div>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/vue">Vue</a></li>
					
				</ul>
			</nav>
			
			
		</div>
	</article>
	
</main>
<footer>
<hr><a class="soc" href="https://github.com/Aczy156" title="GitHub"><i data-feather="github"></i></a>|⚡️
	2022  © Aczy156 |  <a href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
</footer>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168772474-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script>
      feather.replace()
</script></div>
    </body>
</html>
