<!DOCTYPE html>
<html><head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Common_Algorithm - Aczy156</title><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta property="og:description" content="" />
	<meta name="twitter:description" content="" />
	<meta name="description" content="" />
	<meta name="description" content="" />

	<meta property="og:title" content="Common_Algorithm | Aczy156" />
	<meta name="twitter:title" content="Common_Algorithm | Aczy156" />

	<meta property="og:image" content=""/>
	<meta itemprop="name" content="Common_Algorithm | Aczy156" />
	<meta name="application-name" content="Common_Algorithm | Aczy156" />
	<meta property="og:site_name" content="" />
	<meta property="og:title" content="Common_Algorithm" />
<meta property="og:description" content="[TOC]
最短路 hdu2544
 dijkstra找距离当前点中未被刷新过距离起点最值的最小值(!vis[j] &amp;&amp; min(d[j]))拿来刷新到其他点的距离 如果d[v] &#43; mp[v][j] &lt; d[j]就刷新到j点的距离，j点要是未被刷新的点。  void dijkstra(){ for (int i = 0; i &lt; n; i&#43;&#43;) d[i] = mp[0][i]; vis[0] = 1; for (int i = 0; i &lt; n; i&#43;&#43;) { tem = INF;v = 0; for (int j = 0; j &lt; n; j&#43;&#43;) if (!vis[j] &amp;&amp; d[j] &lt;= tem){ tem = d[j]; v = j; } vis[v] = 1; for (int j = 0; j &lt; n; j&#43;&#43;) if (!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.chenranfei.online/posts/other/o-common_algorithm/" />
<meta property="article:published_time" content="2020-04-08T20:42:26+08:00" />
<meta property="article:modified_time" content="2020-04-08T20:42:26+08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Common_Algorithm"/>
<meta name="twitter:description" content="[TOC]
最短路 hdu2544
 dijkstra找距离当前点中未被刷新过距离起点最值的最小值(!vis[j] &amp;&amp; min(d[j]))拿来刷新到其他点的距离 如果d[v] &#43; mp[v][j] &lt; d[j]就刷新到j点的距离，j点要是未被刷新的点。  void dijkstra(){ for (int i = 0; i &lt; n; i&#43;&#43;) d[i] = mp[0][i]; vis[0] = 1; for (int i = 0; i &lt; n; i&#43;&#43;) { tem = INF;v = 0; for (int j = 0; j &lt; n; j&#43;&#43;) if (!vis[j] &amp;&amp; d[j] &lt;= tem){ tem = d[j]; v = j; } vis[v] = 1; for (int j = 0; j &lt; n; j&#43;&#43;) if (!"/>
<script src="http://www.chenranfei.online/js/feather.min.js"></script>
	
	<link href="http://www.chenranfei.online/css/fonts.css" rel="stylesheet">
	
	<link rel="stylesheet" type="text/css" media="screen" href="http://www.chenranfei.online/css/main.css" />
	
	
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
        messageStyle: "none", // 載入 MathJax 檔案時不要顯示訊息
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]} // 搜尋內文 $ 符號
      });
</script>
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="http://www.chenranfei.online/">Aczy156</a>
	</div>
	<nav>
		
	</nav>
</header>

<main>
	<aside>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#最短路">最短路</a></li>
    <li><a href="#kmp">KMP</a></li>
    <li><a href="#mst">MST</a></li>
    <li><a href="#并查集">并查集</a></li>
    <li><a href="#线段树">线段树</a></li>
  </ul>
</nav>
    </aside>
	<article>
		<div class="title">
			<h1 class="title">Common_Algorithm</h1>
		</div>
		

		<section class="body">
			<p>[TOC]</p>
<h2 id="最短路">最短路</h2>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2544">hdu2544</a></p>
<ul>
<li>dijkstra找距离当前点中未被刷新过距离起点最值的最小值(<code>!vis[j] &amp;&amp; min(d[j])</code>)拿来刷新到其他点的距离</li>
<li>如果<code>d[v] + mp[v][j] &lt; d[j]</code>就刷新到j点的距离，j点要是未被刷新的点。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dijkstra</span>(){
	<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) d[i] <span style="color:#f92672">=</span> mp[<span style="color:#ae81ff">0</span>][i];
    vis[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) {
        tem <span style="color:#f92672">=</span> INF;v <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> n; j<span style="color:#f92672">+</span><span style="color:#f92672">+</span>)
            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>vis[j] <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> d[j] <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> tem){
                tem <span style="color:#f92672">=</span> d[j];
                v <span style="color:#f92672">=</span> j;
            }
        vis[v] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> n; j<span style="color:#f92672">+</span><span style="color:#f92672">+</span>)
            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>vis[j] <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> d[v]<span style="color:#f92672">+</span>mp[v][j] <span style="color:#f92672">&lt;</span> d[j])
                d[j] <span style="color:#f92672">=</span> d[v]<span style="color:#f92672">+</span>mp[v][j];
    }
}
</code></pre></div><h2 id="kmp">KMP</h2>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1711">hdu1711</a></p>
<ul>
<li>获取nt数组
<ul>
<li>作用是节省匹配字串回到最初</li>
<li>获取是通过两个索引(都在匹配串)同时后移，如果相同就更新后面索引的nt为前面索引，如果不同的或前面的索引复制为索引的nt。</li>
</ul>
</li>
<li>使用nt数组
<ul>
<li>是通过两个索引(分别在原串和在匹配串)同时后移动，如果相同就后移，如果不同就把匹配串挪到nt处。</li>
</ul>
</li>
<li>返回结果
<ul>
<li>如果要首次匹配成功：把返回条件写在循环的里边或外边都可以，直接return即可</li>
<li>如果要最后一次匹配成功：在循环里边加如果匹配串的索引到了匹配成功的位置，就记录（然后最后输出那个最后的索引），<strong>并归零或者回到nt索引处</strong>，归零是完全匹配个数(aaa 匹配aa 只有一个)，回到nt索引是部分匹配(aaa 匹配aa可以得到两个)。</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#75715e">//  main.cpp
</span><span style="color:#75715e"></span><span style="color:#75715e">//  KMP复习
</span><span style="color:#75715e"></span><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#75715e">//  Created by 陈冉飞 on 2020/4/7.
</span><span style="color:#75715e"></span><span style="color:#75715e">//  Copyright © 2020 陈冉飞. All rights reserved.
</span><span style="color:#75715e"></span><span style="color:#75715e">//
</span><span style="color:#75715e"></span>
<span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#75715e">#</span><span style="color:#75715e">define maxn 1000100</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> nt[<span style="color:#ae81ff">10010</span>],a[maxn],b[<span style="color:#ae81ff">10010</span>],T,n,m,cnt;
<span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;cstring&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#75715e">#</span><span style="color:#75715e">define cl(a,b) memset(a,b,sizeof(a))</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> indexVec;

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">getnt</span>(){
    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,j <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;nt[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">while</span> (i <span style="color:#f92672">&lt;</span> n) {
        <span style="color:#66d9ef">if</span> (j <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span><span style="color:#f92672">|</span> b[i] <span style="color:#f92672">=</span><span style="color:#f92672">=</span> b[j]) {
            i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>;j<span style="color:#f92672">+</span><span style="color:#f92672">+</span>;nt[i] <span style="color:#f92672">=</span> j;
        }<span style="color:#66d9ef">else</span> j <span style="color:#f92672">=</span> nt[j];
    }
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">kmp</span>(){
    getnt();
    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">while</span> (i <span style="color:#f92672">&lt;</span> m <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> j <span style="color:#f92672">&lt;</span> n) {
        <span style="color:#66d9ef">if</span> (j <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span><span style="color:#f92672">|</span> a[i] <span style="color:#f92672">=</span><span style="color:#f92672">=</span> b[j]) {
            i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>;j<span style="color:#f92672">+</span><span style="color:#f92672">+</span>;
        }<span style="color:#66d9ef">else</span> j <span style="color:#f92672">=</span> nt[j];
        <span style="color:#66d9ef">if</span> (j <span style="color:#f92672">=</span><span style="color:#f92672">=</span> n) {
            indexVec.push_back(i<span style="color:#f92672">-</span>j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
            cnt<span style="color:#f92672">+</span><span style="color:#f92672">+</span>;
<span style="color:#75715e">//            j = 0; //完全匹配
</span><span style="color:#75715e"></span>            j <span style="color:#f92672">=</span> nt[j]; <span style="color:#75715e">//交叉匹配
</span><span style="color:#75715e"></span>        }
    }
    <span style="color:#75715e">// 首次匹配
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (j <span style="color:#f92672">=</span><span style="color:#f92672">=</span> n) <span style="color:#66d9ef">return</span> i<span style="color:#f92672">-</span>j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
    
    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span> argv[]) {
    <span style="color:#66d9ef">for</span> (scanf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>T); T; T<span style="color:#f92672">-</span><span style="color:#f92672">-</span>) {
        indexVec.clear();
        cl(a, <span style="color:#ae81ff">0</span>);cl(b, <span style="color:#ae81ff">0</span>);cnt <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        scanf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d%d</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>m,<span style="color:#f92672">&amp;</span>n);
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> m; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) scanf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>a[i]);
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) scanf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>b[i]);
<span style="color:#75715e">//        printf(&#34;%d\n&#34;,kmp());
</span><span style="color:#75715e"></span>        kmp();
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> indexVec.size(); i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) {
            printf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d </span><span style="color:#e6db74">&#34;</span>,indexVec[i]);
        }
<span style="color:#75715e">//        cout&lt;&lt;cnt&lt;&lt;endl;
</span><span style="color:#75715e"></span>    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}


<span style="color:#75715e">//13 5
</span><span style="color:#75715e"></span><span style="color:#75715e">//1 2 1 2 3 1 2 3 1 2 2 1 2
</span><span style="color:#75715e"></span><span style="color:#75715e">//1 2 3 1 2
</span><span style="color:#75715e"></span>
</code></pre></div><h2 id="mst">MST</h2>
<ul>
<li>prime:通过选定一个点（默认为起点），通过选取未被刷新最值的点中的最小距离<code>!vis[j] &amp;&amp; min(d[j])</code>来作为mst展开的枝节。</li>
<li>通过选定的枝节作为依据，刷新其他未刷新过的节点到枝节的距离<code>d[j] &gt; mp[v][j]</code>（不用再加上d[v]是因为已经在枝节内部）</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#75715e">//  main.cpp
</span><span style="color:#75715e"></span><span style="color:#75715e">//  MST复习
</span><span style="color:#75715e"></span><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#75715e">//  Created by 陈冉飞 on 2020/4/7.
</span><span style="color:#75715e"></span><span style="color:#75715e">//  Copyright © 2020 陈冉飞. All rights reserved.
</span><span style="color:#75715e"></span><span style="color:#75715e">//
</span><span style="color:#75715e"></span>
<span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#75715e">#</span><span style="color:#75715e">define maxn 30</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> mp[maxn][maxn],n,m,p,d[maxn],vis[maxn],tem,v,ans;
<span style="color:#66d9ef">char</span> s[<span style="color:#ae81ff">10</span>],t[<span style="color:#ae81ff">10</span>];
<span style="color:#75715e">#</span><span style="color:#75715e">define INF 0x3f3f3f</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;cstring&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#75715e">#</span><span style="color:#75715e">define cl(a,b) memset(a,b,sizeof(a))</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">prime</span>(){
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) d[i] <span style="color:#f92672">=</span> mp[<span style="color:#ae81ff">0</span>][i];
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) {
        tem <span style="color:#f92672">=</span> INF;v <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;vis[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;</span> n; j<span style="color:#f92672">+</span><span style="color:#f92672">+</span>)
            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>vis[j] <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> tem <span style="color:#f92672">&gt;</span> d[j])
                tem <span style="color:#f92672">=</span> d[v <span style="color:#f92672">=</span> j];
        vis[v] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;ans <span style="color:#f92672">+</span><span style="color:#f92672">=</span> tem;
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;</span> n; j<span style="color:#f92672">+</span><span style="color:#f92672">+</span>)
            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>vis[j] <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> d[j] <span style="color:#f92672">&gt;</span> mp[v][j]) d[j] <span style="color:#f92672">=</span> mp[v][j];
    }
    printf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ans);
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span> argv[]) {
    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">~</span>scanf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>n) <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> n) {
        cl(d, <span style="color:#ae81ff">0</span>);cl(vis, <span style="color:#ae81ff">0</span>);ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>)
            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> n; j<span style="color:#f92672">+</span><span style="color:#f92672">+</span>)
                <span style="color:#66d9ef">if</span> (i <span style="color:#f92672">=</span><span style="color:#f92672">=</span> j) mp[i][j] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
                <span style="color:#66d9ef">else</span> mp[i][j] <span style="color:#f92672">=</span>INF;
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) {
            scanf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%s%d</span><span style="color:#e6db74">&#34;</span>,s,<span style="color:#f92672">&amp;</span>m);
            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> m; j<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) {
                scanf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%s%d</span><span style="color:#e6db74">&#34;</span>,t,<span style="color:#f92672">&amp;</span>p);
                mp[s[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">-</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">A</span><span style="color:#e6db74">&#39;</span>][t[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">-</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">A</span><span style="color:#e6db74">&#39;</span>] <span style="color:#f92672">=</span> p;
                mp[t[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">-</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">A</span><span style="color:#e6db74">&#39;</span>][s[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">-</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">A</span><span style="color:#e6db74">&#39;</span>] <span style="color:#f92672">=</span> p;
            }
        }
        prime();
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

</code></pre></div><h2 id="并查集">并查集</h2>
<ul>
<li>fa[]数组用来维护集合</li>
<li>通过findfa()来找属于那个集合</li>
<li>合并的时候先看是否在一个集合中，如果不在的话然后更改其中的一个fa到另一个下。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#75715e">//  main.cpp
</span><span style="color:#75715e"></span><span style="color:#75715e">//  并查集复习
</span><span style="color:#75715e"></span><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#75715e">//  Created by 陈冉飞 on 2020/4/7.
</span><span style="color:#75715e"></span><span style="color:#75715e">//  Copyright © 2020 陈冉飞. All rights reserved.
</span><span style="color:#75715e"></span><span style="color:#75715e">//
</span><span style="color:#75715e"></span>
<span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#75715e">#</span><span style="color:#75715e">define maxn 1010</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> T,fa[maxn],n,m,p,q;
<span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;unordered_set&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>unordered_set<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> c;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">findfa</span>(<span style="color:#66d9ef">int</span> x){
    <span style="color:#66d9ef">if</span> (x <span style="color:#f92672">=</span><span style="color:#f92672">=</span> fa[x]) <span style="color:#66d9ef">return</span> x;
    <span style="color:#66d9ef">return</span> findfa(fa[x]);
}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">merge</span>(<span style="color:#66d9ef">int</span> x,<span style="color:#66d9ef">int</span> y){
    <span style="color:#66d9ef">if</span> (findfa(x) <span style="color:#f92672">!</span><span style="color:#f92672">=</span> findfa(y)) fa[x] <span style="color:#f92672">=</span> findfa(y);
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span> argv[]) {
    <span style="color:#66d9ef">for</span> (scanf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>T); T; T<span style="color:#f92672">-</span><span style="color:#f92672">-</span>) {
        scanf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d%d</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>n,<span style="color:#f92672">&amp;</span>m);
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) fa[i] <span style="color:#f92672">=</span> i;
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> m; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>) {
            scanf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d%d</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>p,<span style="color:#f92672">&amp;</span>q);
            merge(p,q);
        }
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">+</span><span style="color:#f92672">+</span>)
            <span style="color:#66d9ef">if</span> (c.find(findfa(i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)) <span style="color:#f92672">=</span><span style="color:#f92672">=</span> c.end())
                c.insert(findfa(i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>));
        printf(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,c.size());
    }
    
    
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

</code></pre></div><h2 id="线段树">线段树</h2>
<ul>
<li>查询区间和=》分段查询</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">if</span> (gl <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> mid) ans <span style="color:#f92672">+</span><span style="color:#f92672">=</span> query(lson, gl, gr);
<span style="color:#66d9ef">if</span> (gr <span style="color:#f92672">&gt;</span><span style="color:#f92672">=</span> mid<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) ans <span style="color:#f92672">+</span><span style="color:#f92672">=</span> query(rson, gl, gr);
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#75715e">//  main.cpp
</span><span style="color:#75715e"></span><span style="color:#75715e">//  线段树复习
</span><span style="color:#75715e"></span><span style="color:#75715e">//
</span><span style="color:#75715e"></span><span style="color:#75715e">//  Created by 陈冉飞 on 2020/4/7.
</span><span style="color:#75715e"></span><span style="color:#75715e">//  Copyright © 2020 陈冉飞. All rights reserved.
</span><span style="color:#75715e"></span><span style="color:#75715e">//
</span><span style="color:#75715e"></span>
<span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;cstring&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#75715e">#</span><span style="color:#75715e">define cl(a,b) memset(a,b,sizeof(a))</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#75715e">#</span><span style="color:#75715e">define maxn 10010</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> a[maxn<span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span>],b[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>};
<span style="color:#75715e">#</span><span style="color:#75715e">define lson k&lt;&lt;1,l,mid</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#75715e">#</span><span style="color:#75715e">define rson k&lt;&lt;1|1,mid+1,r</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// sum
</span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">pushup</span>(<span style="color:#66d9ef">int</span> k){a[k] <span style="color:#f92672">=</span> a[k<span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span>a[k<span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span><span style="color:#ae81ff">1</span><span style="color:#f92672">|</span><span style="color:#ae81ff">1</span>];}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">build</span>(<span style="color:#66d9ef">int</span> k,<span style="color:#66d9ef">int</span> l,<span style="color:#66d9ef">int</span> r)
{
    <span style="color:#66d9ef">if</span>(l<span style="color:#f92672">=</span><span style="color:#f92672">=</span>r){a[k] <span style="color:#f92672">=</span> b[l<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>];<span style="color:#66d9ef">return</span>;}
    <span style="color:#66d9ef">int</span> mid <span style="color:#f92672">=</span> (l<span style="color:#f92672">+</span>r)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>;
    build(lson);build(rson);
    pushup(k);
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">query</span>(<span style="color:#66d9ef">int</span> k,<span style="color:#66d9ef">int</span> l,<span style="color:#66d9ef">int</span> r,<span style="color:#66d9ef">int</span> gl,<span style="color:#66d9ef">int</span> gr){
    <span style="color:#66d9ef">if</span> (gl <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> l <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> r <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> gr) <span style="color:#66d9ef">return</span> a[k];
    <span style="color:#66d9ef">int</span> mid <span style="color:#f92672">=</span> (l<span style="color:#f92672">+</span>r)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>,ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">if</span> (gl <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> mid) ans <span style="color:#f92672">+</span><span style="color:#f92672">=</span> query(lson, gl, gr);
    <span style="color:#66d9ef">if</span> (gr <span style="color:#f92672">&gt;</span><span style="color:#f92672">=</span> mid<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) ans <span style="color:#f92672">+</span><span style="color:#f92672">=</span> query(rson, gl, gr);
    <span style="color:#66d9ef">return</span> ans;
}

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">update</span>(<span style="color:#66d9ef">int</span> k,<span style="color:#66d9ef">int</span> l,<span style="color:#66d9ef">int</span> r,<span style="color:#66d9ef">int</span> pos,<span style="color:#66d9ef">int</span> val){
    <span style="color:#66d9ef">if</span> (l <span style="color:#f92672">=</span><span style="color:#f92672">=</span> r <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> l <span style="color:#f92672">=</span><span style="color:#f92672">=</span> pos) {a[k] <span style="color:#f92672">=</span> val;<span style="color:#66d9ef">return</span>;}
    <span style="color:#66d9ef">int</span> mid <span style="color:#f92672">=</span> (l<span style="color:#f92672">+</span>r)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>;
    <span style="color:#66d9ef">if</span> (mid <span style="color:#f92672">&gt;</span><span style="color:#f92672">=</span> pos) update(lson, pos, val);
    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (mid<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> pos) update(rson, pos, val);
    pushup(k);
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span> argv[]) {
    build(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">5</span>);
    cout<span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span>query(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>)<span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span>endl;
    update(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>);
    cout<span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span>query(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>)<span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span>endl;
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#75715e">//1 2 3 4 5
</span><span style="color:#75715e"></span>
</code></pre></div>
		</section>

		<div class="meta">Posted on Apr 8, 2020</div>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/acm">ACM</a></li>
					
					<li><a href="/tags/%E7%AE%97%E6%B3%95">算法</a></li>
					
				</ul>
			</nav>
			
			
		</div>
	</article>
	
</main>
<footer>
<hr><a class="soc" href="https://github.com/Aczy156" title="GitHub"><i data-feather="github"></i></a>|⚡️
	2021  © Aczy156 |  <a href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
</footer>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168772474-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script>
      feather.replace()
</script></div>
    </body>
</html>
